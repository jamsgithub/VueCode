<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!--<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>-->
    <script src="./libs/vue.js"></script>
    <!--<script>Vue.config.productionTip=false</script>-->
</head>

<body>

    <div id="app">
        <input type="button" value="lang" @click="lang" />
    	<input type="button" value="stop" @click="stop" />
        <!--<p>{{ msg }}</p>-->
        <p v-text="msg">展示信息!</p>
    </div>

    <script>
		 var vm = new Vue({
		 	el:'#app',
		 	data:{
		 		msg:'猥琐发育，别浪~~~!',
				intervalId:null
		 	},
		 	methods:{
		 		lang:function(){
		 			//注意:在VM实例中，如果想要获取data上的数据，或者想要调用
		 			//methods中的方法，必须通过this.数据属性名或this.方法名来进行访问
		 			//这里的this就表示我们new出来的VM实例对象
					 if(this.intervalId != null){return}
		 			var _this = this;
		 			this.intervalId = setInterval(function() {
		 				var start = _this.msg.substring(0 , 1)
		 				var end = _this.msg.substring(1)
		 				//注意:VM实例，会监听自己身上data中所有的数据的改变，只要数据
		 				//一发生变化，就会自动把最新的数据，从data上同步到页面中去;【
		 				//好处：我们只需要关心数据，不需要考虑如何重新渲染DOM页面】
		 				_this.msg = end + start
		 			} , 300)
		 		},
		 		stop:function(){//结束定时器
					clearInterval(this.intervalId)
					this.intervalId = null
		 		}
		 	}
		})
    </script>
    
</body>
</html>